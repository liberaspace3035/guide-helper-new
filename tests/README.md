# SQLインジェクションテスト

このディレクトリには、ログイン処理に対するSQLインジェクション攻撃のテストケースが含まれています。

## テストの目的

ログイン処理がSQLインジェクション攻撃に対して適切に防御されていることを確認します。

## テストケース

以下のSQLインジェクション攻撃パターンをテストします：

1. **OR 1=1攻撃**: `' OR '1'='1` を使用した攻撃
2. **UNION SELECT攻撃**: `UNION SELECT` を使用した攻撃
3. **コメントアウト攻撃**: `--` を使用した攻撃
4. **DROP TABLE攻撃**: `DROP TABLE` を使用した攻撃
5. **AND 1=1攻撃**: `AND '1'='1` を使用した攻撃
6. **LIKE演算子攻撃**: `LIKE` を使用した攻撃
7. **時間ベースのブラインドSQLインジェクション**: `WAITFOR DELAY` を使用した攻撃
8. **エラーベースのSQLインジェクション**: エラーメッセージから情報を取得する攻撃

## テストの実行方法

```bash
# すべてのテストを実行
php artisan test

# SQLインジェクションテストのみを実行
php artisan test tests/Feature/SqlInjectionTest.php

# 特定のテストメソッドを実行
php artisan test --filter test_sql_injection_or_1_equals_1_in_email
```

## 期待される動作

すべてのSQLインジェクション攻撃のテストケースは、以下の動作を期待します：

- ログインに失敗する（HTTPステータス302）
- エラーメッセージが表示される
- ユーザーが認証されない（`assertGuest()`）
- データベースの構造が変更されない（DROP TABLEなどが実行されない）

## 注意事項

- LaravelのEloquent ORMはプリペアドステートメントを使用しているため、基本的にSQLインジェクションの脆弱性はありません
- このテストは、セキュリティのベストプラクティスに従っていることを確認するためのものです
- 将来的に生のSQLクエリを使用する場合は、必ずプリペアドステートメントを使用してください

