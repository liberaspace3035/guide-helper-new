# 機能実装比較: React版 vs Blade版

このドキュメントは、React版とBlade版の全画面・全機能の実装状況を比較したものです。

## 比較日時
2024年12月（最終確認）

## 比較方法
- React版の各ページ（`frontend/src/pages/`）とBlade版の各ビュー（`resources/views/`）を比較
- 機能の有無、UI要素、データ表示、操作フローを確認

---

## 1. ダッシュボード

### 1.1 ユーザー用ダッシュボード
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 統計情報（依頼数、マッチング数など） | ✅ | ✅ | 実装済み |
| 承認待ち報告書一覧 | ✅ | ✅ | 実装済み |
| 利用時間カード（月別選択、グラフ、テーブル） | ✅ | ✅ | 実装済み |
| 今後確定している予定一覧 | ✅ | ✅ | 実装済み |
| お知らせ一覧 | ✅ | ✅ | 実装済み |
| 通知一覧 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

### 1.2 ガイド用ダッシュボード
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 統計情報（依頼数、マッチング数など） | ✅ | ✅ | 実装済み |
| クイックアクション（依頼一覧、報告書作成） | ✅ | ✅ | 実装済み |
| ガイド時間カード（月別選択、グラフ、テーブル） | ✅ | ✅ | 実装済み |
| 進行中のマッチング一覧 | ✅ | ✅ | 実装済み |
| お知らせ一覧 | ✅ | ✅ | 実装済み |
| 通知一覧 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 2. プロフィール編集

| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 基本情報（名前、電話、住所、年齢、生年月日） | ✅ | ✅ | 実装済み |
| ユーザー用フィールド（連絡手段、備考、自己紹介、受給者証番号） | ✅ | ✅ | 実装済み |
| ガイド用フィールド（自己紹介、対応可能エリア、対応可能日、対応可能時間帯、従業員番号） | ✅ | ✅ | 実装済み |
| **実績時間の表示（ユーザー/ガイド）** | ✅ | ✅ | **実装済み** |
| 管理者コメント（閲覧のみ） | ✅ | ✅ | 実装済み |
| プロフィール更新 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

**実装済み機能**:
- ユーザー/ガイドのプロフィール画面に「実績時間（報告書確定ベース・月別積算）」が表示される
- 今月合計時間と月別の実績時間一覧を表示
- APIからデータを取得して表示

---

## 3. 依頼関連機能

### 3.1 依頼作成（ユーザー）
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 依頼タイプ選択（外出/自宅） | ✅ | ✅ | 実装済み |
| 目的地/場所入力 | ✅ | ✅ | 実装済み |
| 待ち合わせ場所/集合場所入力 | ✅ | ✅ | 実装済み |
| サービス内容入力 | ✅ | ✅ | 実装済み |
| 希望するガイドの性別・年代選択 | ✅ | ✅ | 実装済み |
| 希望日時入力（日付、開始時刻、終了時刻） | ✅ | ✅ | 実装済み |
| デフォルト日時設定（2時間後～3時間後） | ✅ | ✅ | 実装済み |
| バリデーション（時刻チェック、必須項目） | ✅ | ✅ | 実装済み |
| **音声入力機能** | ✅ | ✅ | **実装済み** |
| **指名ガイド選択** | ❌ | ✅ | **Blade版のみ実装** |

**ステータス**: ✅ **完全実装済み**

**実装済み機能**:
- サービス内容入力欄に音声入力ボタンを追加
- Web Speech APIを使用して音声をテキストに変換
- 音声認識中のインジケーター表示
- ブラウザの音声認識サポートを自動検出
- 指名ガイド選択ドロップダウン（承認済みガイド一覧）

### 3.2 依頼一覧（ユーザー）
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 依頼一覧表示 | ✅ | ✅ | 実装済み |
| 依頼詳細表示（タイプ、場所、日時、内容） | ✅ | ✅ | 実装済み |
| ステータス表示 | ✅ | ✅ | 実装済み |
| 応募ガイド表示 | ✅ | ✅ | 実装済み |
| ガイド選択機能 | ✅ | ✅ | 実装済み |
| マッチング済みガイドのチャットリンク | ✅ | ✅ | 実装済み |
| 選択済みガイドの表示 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

### 3.3 依頼一覧（ガイド）
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 利用可能な依頼一覧表示 | ✅ | ✅ | 実装済み |
| 依頼詳細表示（タイプ、場所、日時、内容） | ✅ | ✅ | 実装済み |
| ステータス表示 | ✅ | ✅ | 実装済み |
| 依頼承諾機能 | ✅ | ✅ | 実装済み |
| 依頼辞退機能 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 4. マッチング詳細

| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| マッチング情報表示（タイプ、場所、日時） | ✅ | ✅ | 実装済み |
| 参加者情報表示（ユーザー/ガイド名） | ✅ | ✅ | 実装済み |
| チャットリンク | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 5. チャット

| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| チャットヘッダー（相手名、サブタイトル、アクティブ状態） | ✅ | ✅ | 実装済み |
| メッセージ表示（送信/受信の配置） | ✅ | ✅ | 実装済み |
| アバター表示 | ✅ | ✅ | 実装済み |
| 送信者名表示 | ✅ | ✅ | 実装済み |
| 日付セパレーター | ✅ | ✅ | 実装済み |
| メッセージフッター（時刻、送信状態） | ✅ | ✅ | 実装済み |
| メッセージ送信機能 | ✅ | ✅ | 実装済み |
| 音声入力機能 | ✅ | ✅ | 実装済み |
| 楽観的更新（Optimistic Update） | ✅ | ✅ | 実装済み |
| 空状態表示 | ✅ | ✅ | 実装済み |
| ローディング状態表示 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 6. 報告書関連機能

### 6.1 報告書作成・編集（ガイド）
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| サービス内容入力 | ✅ | ✅ | 実装済み |
| 実施日時入力（日付、開始時刻、終了時刻） | ✅ | ✅ | 実装済み |
| 報告欄（自由記入）入力 | ✅ | ✅ | 実装済み |
| マッチング情報からの初期値設定 | ✅ | ✅ | 実装済み |
| 下書き保存機能 | ✅ | ✅ | 実装済み |
| 報告書提出機能 | ✅ | ✅ | 実装済み |
| 既存報告書の編集 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

### 6.2 報告書詳細・承認（ユーザー）
| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 報告書情報表示（ガイド名、ステータス） | ✅ | ✅ | 実装済み |
| サービス内容表示 | ✅ | ✅ | 実装済み |
| 実施日時表示 | ✅ | ✅ | 実装済み |
| 報告欄表示 | ✅ | ✅ | 実装済み |
| 承認機能 | ✅ | ✅ | 実装済み |
| 修正依頼機能 | ✅ | ✅ | 実装済み |
| 修正依頼内容入力 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 7. お知らせ

| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| お知らせ一覧表示 | ✅ | ✅ | 実装済み |
| フィルター機能（すべて/未読/既読） | ✅ | ✅ | 実装済み |
| 未読数バッジ表示 | ✅ | ✅ | 実装済み |
| 既読登録機能 | ✅ | ✅ | 実装済み |
| 空状態表示 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## 8. 管理者ダッシュボード

| 機能 | React版 | Blade版 | 備考 |
|------|---------|--------|------|
| 統計情報表示（ユーザー、ガイド、マッチング、依頼） | ✅ | ✅ | 実装済み |
| 自動マッチング設定 | ✅ | ✅ | 実装済み |
| 承諾待ち一覧 | ✅ | ✅ | 実装済み |
| マッチング承認/却下 | ✅ | ✅ | 実装済み |
| 依頼一覧 | ✅ | ✅ | 実装済み |
| 報告書一覧 | ✅ | ✅ | 実装済み |
| CSV出力機能 | ✅ | ✅ | 実装済み |
| ユーザー管理（一覧、承認/拒否、編集） | ✅ | ✅ | 実装済み |
| ガイド管理（一覧、承認/拒否、編集） | ✅ | ✅ | 実装済み |
| お知らせ管理 | ✅ | ✅ | 実装済み |

**ステータス**: ✅ **完全実装済み**

---

## まとめ

### 実装状況サマリー

| 画面/機能 | ステータス | 未実装機能 |
|-----------|-----------|-----------|
| ダッシュボード（ユーザー/ガイド） | ✅ 完全実装 | なし |
| プロフィール編集 | ✅ 完全実装 | なし |
| 依頼作成（ユーザー） | ✅ 完全実装 | なし |
| 依頼一覧（ユーザー/ガイド） | ✅ 完全実装 | なし |
| マッチング詳細 | ✅ 完全実装 | なし |
| チャット | ✅ 完全実装 | なし |
| 報告書作成・編集（ガイド） | ✅ 完全実装 | なし |
| 報告書詳細・承認（ユーザー） | ✅ 完全実装 | なし |
| お知らせ | ✅ 完全実装 | なし |
| 管理者ダッシュボード | ✅ 完全実装 | なし |

### 未実装機能の詳細

~~#### 1. プロフィール編集: 実績時間表示~~ ✅ **実装完了**
- **場所**: `resources/views/profile.blade.php`
- **機能**: ユーザー/ガイドのプロフィール画面に、実績時間（報告書確定ベース・月別積算）を表示
- **参考実装**: `frontend/src/pages/Profile.jsx` (273-293行目、379-400行目)
- **必要なデータ**: `/api/reports/usage-stats` または `/api/reports/guide-stats` から取得
- **実装日**: 2024年12月
- **変更ファイル**:
  - `resources/views/profile.blade.php`: 実績時間表示セクションを追加
  - `app/Http/Controllers/ProfileController.php`: JWTトークン生成を追加
  - `resources/css/Profile.scss`: スタイルを追加

~~#### 2. 依頼作成: 音声入力機能~~ ✅ **実装完了**
- **場所**: `resources/views/requests/create.blade.php`
- **機能**: サービス内容入力欄に音声入力ボタンを追加し、Web Speech APIを使用して音声をテキストに変換
- **参考実装**: `frontend/src/pages/user/RequestForm.jsx` (40-99行目)
- **技術**: Web Speech API (`webkitSpeechRecognition` または `SpeechRecognition`)
- **実装日**: 2024年12月
- **変更ファイル**:
  - `resources/views/requests/create.blade.php`: 音声入力機能を追加
  - `resources/css/RequestForm.scss`: 音声入力ボタンのスタイルを追加

---

## 実装完了

✅ すべての未実装機能が実装されました。

1. **プロフィール編集: 実績時間表示** ✅
   - 実装日: 2024年12月
   - 実装内容: ユーザー/ガイドのプロフィール画面に実績時間を表示
   - 技術: Alpine.js、Fetch API、既存のAPIエンドポイント

2. **依頼作成: 音声入力機能** ✅
   - 実装日: 2024年12月
   - 実装内容: サービス内容入力欄に音声入力ボタンを追加
   - 技術: Web Speech API、Alpine.js

3. **登録フォーム: 必須項目追加** ✅
   - 実装日: 2024年12月
   - 実装内容: 要件定義書に基づく必須項目の追加（カナ、郵便番号、住所、電話番号、性別、生年月日、メール確認欄、面談希望日時、応募のきっかけ、視覚障害の状況、障害支援区分、普段の生活状況、応募理由、実現したいこと、保有資格、希望勤務時間）
   - 技術: Laravelバリデーション、Alpine.js

4. **利用者の限度時間管理機能** ✅
   - 実装日: 2024年12月
   - 実装内容: 月次限度時間の設定、依頼作成時の残時間チェック、報告書確定時の使用時間自動更新
   - 技術: Laravelサービス層、データベース制約

5. **依頼投稿: 指名機能** ✅
   - 実装日: 2024年12月
   - 実装内容: 依頼作成時に特定のガイドを指名できる機能
   - 技術: APIエンドポイント、Alpine.js

---

## 更新履歴

- 2024年12月: 初版作成、全画面の機能比較を実施
- 2024年12月: 未実装機能（実績時間表示、音声入力機能）を実装完了
- 2024年12月: 要件定義書に基づく機能実装（登録フォーム必須項目、限度時間管理、指名機能）を完了
